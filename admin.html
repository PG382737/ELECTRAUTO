<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin | Électr'auto Québec</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>

    <!-- ===== LOGIN ===== -->
    <div class="login" id="login-screen">
        <div class="login__box">
            <h1 class="login__brand">ELECTR<span>'</span>AUTO</h1>
            <p class="login__sub">Administration</p>
            <form id="login-form">
                <input type="password" id="login-pwd" placeholder="Mot de passe" autocomplete="off">
                <button type="submit" class="btn btn--primary btn--full">Accéder</button>
            </form>
        </div>
    </div>

    <!-- ===== DASHBOARD ===== -->
    <div class="dash" id="dashboard" style="display:none;">

        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar__brand">
                ELECTR<span>'</span>AUTO
                <small>Admin</small>
            </div>
            <nav class="sidebar__nav">
                <button class="sidebar__link active" data-tab="blog">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/></svg>
                    Blog
                </button>
                <button class="sidebar__link" data-tab="delays">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                    Délais
                </button>
            </nav>
            <div class="sidebar__bottom">
                <a href="index-v2.html" class="sidebar__link sidebar__link--muted">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M15 18l-6-6 6-6"/></svg>
                    Voir le site
                </a>
            </div>
        </aside>

        <!-- Main content -->
        <main class="main">

            <!-- ===== BLOG TAB ===== -->
            <div class="tab active" id="tab-blog">
                <div class="main__header">
                    <h1>Articles du blog</h1>
                    <button class="btn btn--primary" id="btn-new-article">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 5v14m-7-7h14"/></svg>
                        Nouvel article
                    </button>
                </div>
                <div id="articles-container">
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
                        <p>Chargement...</p>
                    </div>
                </div>
            </div>

            <!-- ===== DELAYS TAB ===== -->
            <div class="tab" id="tab-delays">
                <div class="main__header">
                    <h1>Délais de rendez-vous</h1>
                </div>
                <p class="tab__desc">Sélectionnez le délai actuel pour chaque type de service. Ces informations seront affichées aux clients sur la page de prise de rendez-vous.</p>

                <div class="delays-grid">
                    <!-- Service -->
                    <div class="delay-card">
                        <div class="delay-card__head">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                            <h2>Service <small>(entretien)</small></h2>
                        </div>
                        <div class="delay-options" id="delay-service">
                            <button class="delay-opt" data-value="less-24h">Moins de 24h</button>
                            <button class="delay-opt" data-value="1-2-days">1 à 2 jours</button>
                            <button class="delay-opt" data-value="2-4-days">2 à 4 jours</button>
                            <button class="delay-opt" data-value="less-1-week">Moins d'une semaine</button>
                            <button class="delay-opt" data-value="1-2-weeks">1 à 2 semaines</button>
                            <button class="delay-opt" data-value="less-1-month">Moins de 1 mois</button>
                        </div>
                    </div>

                    <!-- Repair -->
                    <div class="delay-card">
                        <div class="delay-card__head">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                            <h2>Réparation</h2>
                        </div>
                        <div class="delay-options" id="delay-repair">
                            <button class="delay-opt" data-value="less-24h">Moins de 24h</button>
                            <button class="delay-opt" data-value="1-2-days">1 à 2 jours</button>
                            <button class="delay-opt" data-value="2-4-days">2 à 4 jours</button>
                            <button class="delay-opt" data-value="less-1-week">Moins d'une semaine</button>
                            <button class="delay-opt" data-value="1-2-weeks">1 à 2 semaines</button>
                            <button class="delay-opt" data-value="less-1-month">Moins de 1 mois</button>
                        </div>
                    </div>
                </div>

                <div class="delays-status" id="delays-status"></div>
            </div>

        </main>
    </div>

    <!-- ===== ARTICLE MODAL ===== -->
    <div class="modal-overlay" id="article-modal">
        <div class="modal modal--wide">
            <div class="modal__header">
                <h2 id="modal-title">Nouvel article</h2>
                <button class="modal__close" id="modal-close">&times;</button>
            </div>
            <div class="modal__body">
                <input type="hidden" id="edit-id">

                <!-- Language tabs -->
                <div class="lang-tabs">
                    <button class="lang-tab active" data-lang="fr">Français</button>
                    <button class="lang-tab" data-lang="en">English</button>
                </div>

                <!-- FR fields -->
                <div class="lang-panel active" id="panel-fr">
                    <div class="form-group">
                        <label for="edit-title-fr">Titre</label>
                        <input type="text" id="edit-title-fr" placeholder="Titre de l'article en français">
                    </div>
                    <div class="form-group">
                        <label for="edit-excerpt-fr">Extrait (résumé court)</label>
                        <input type="text" id="edit-excerpt-fr" placeholder="Bref résumé en français...">
                    </div>
                    <div class="form-group">
                        <label>Contenu</label>
                        <div class="editor-toolbar">
                            <button type="button" class="tb-btn" data-cmd="bold" title="Gras"><b>B</b></button>
                            <button type="button" class="tb-btn" data-cmd="italic" title="Italique"><i>I</i></button>
                            <button type="button" class="tb-btn" data-cmd="underline" title="Souligné"><u>U</u></button>
                            <span class="tb-sep"></span>
                            <button type="button" class="tb-btn" data-cmd="insertUnorderedList" title="Liste">&#8226;</button>
                            <button type="button" class="tb-btn" data-cmd="createLink" title="Lien">&#128279;</button>
                            <span class="tb-sep"></span>
                            <button type="button" class="tb-btn" data-cmd="formatBlock" data-val="h2" title="Titre H2">H2</button>
                            <button type="button" class="tb-btn" data-cmd="formatBlock" data-val="h3" title="Titre H3">H3</button>
                        </div>
                        <div class="editor-content" id="edit-content-fr" contenteditable="true"></div>
                    </div>
                </div>

                <!-- EN fields -->
                <div class="lang-panel" id="panel-en">
                    <div class="form-group">
                        <label for="edit-title-en">Title</label>
                        <input type="text" id="edit-title-en" placeholder="Article title in English">
                    </div>
                    <div class="form-group">
                        <label for="edit-excerpt-en">Excerpt (short summary)</label>
                        <input type="text" id="edit-excerpt-en" placeholder="Short summary in English...">
                    </div>
                    <div class="form-group">
                        <label>Content</label>
                        <div class="editor-toolbar">
                            <button type="button" class="tb-btn" data-cmd="bold" title="Bold"><b>B</b></button>
                            <button type="button" class="tb-btn" data-cmd="italic" title="Italic"><i>I</i></button>
                            <button type="button" class="tb-btn" data-cmd="underline" title="Underline"><u>U</u></button>
                            <span class="tb-sep"></span>
                            <button type="button" class="tb-btn" data-cmd="insertUnorderedList" title="List">&#8226;</button>
                            <button type="button" class="tb-btn" data-cmd="createLink" title="Link">&#128279;</button>
                            <span class="tb-sep"></span>
                            <button type="button" class="tb-btn" data-cmd="formatBlock" data-val="h2" title="Heading H2">H2</button>
                            <button type="button" class="tb-btn" data-cmd="formatBlock" data-val="h3" title="Heading H3">H3</button>
                        </div>
                        <div class="editor-content" id="edit-content-en" contenteditable="true"></div>
                    </div>
                </div>

                <!-- Shared fields (below both tabs) -->
                <div class="form-row">
                    <div class="form-group form-group--half">
                        <label>Image principale</label>
                        <div class="image-upload" id="image-upload">
                            <input type="file" id="image-file" accept="image/*">
                            <div id="image-preview">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" style="width:36px;height:36px;opacity:.4;margin-bottom:6px;"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><path d="m21 15-5-5L5 21"/></svg>
                                <span>Cliquer pour ajouter</span>
                            </div>
                        </div>
                        <input type="hidden" id="edit-image-url">
                    </div>
                    <div class="form-group form-group--half">
                        <label for="edit-status">Statut</label>
                        <select id="edit-status">
                            <option value="draft">Brouillon</option>
                            <option value="published">Publié</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal__footer">
                <button class="btn btn--ghost" id="btn-cancel">Annuler</button>
                <button class="btn btn--primary" id="btn-save">Sauvegarder</button>
            </div>
        </div>
    </div>

    <!-- ===== CONFIRM DELETE ===== -->
    <div class="modal-overlay" id="confirm-modal">
        <div class="modal modal--sm">
            <div class="modal__header">
                <h2>Supprimer cet article ?</h2>
                <button class="modal__close" id="confirm-close">&times;</button>
            </div>
            <div class="modal__body">
                <p>Cette action est irréversible.</p>
            </div>
            <div class="modal__footer">
                <button class="btn btn--ghost" id="btn-cancel-delete">Annuler</button>
                <button class="btn btn--danger" id="btn-confirm-delete">Supprimer</button>
            </div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>
